!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var b;b=function(){return b=function(){var b,c,d,e,f,g,h,i,j,k,l;j=this,g=function(a){var b;return b=j.$elem.data("selectnice"),"undefined"!=typeof a?b[a]:b},k=function(a){f(a).prop("selected",!0),j.$elem.change()},l=function(a){f(a).prop("selected",!1),j.$elem.change()},f=function(b){return a.isNumeric(b)&&(b=Math.floor(b)),a("option[value="+b+"]",j.$elem)},c=function(){var a,b;a=j.$widget.find("input"),b=j.$widget.find("ul"),a.on("focus",function(){b.show(),h()}),a.on("focusout",function(){return b.find("li:hover").length<=0?b.hide():void 0})},h=function(){var b,c;b=j.$widget.find("input"),c=b.val(),c=c.toLowerCase(),c=c.replace(/\s+/g,""),j.$widget.find("li").each(function(){var b,d;b=a(this).text(),d=-1!==b.toLowerCase().replace(/\s+/g,"").indexOf(c),a(this).toggle(d)}),j.$widget.find("li:visible a."+j.options.selectedclass).length<=0&&(j.$widget.find("li a").removeClass(j.options.selectedclass),j.$widget.find("li:visible a").first().addClass(j.options.selectedclass))},d=function(){var b;return b=j.$widget.find("a"),b.on("mouseenter",function(){var b,c,d;return b=a(this),d=b.data("niceselect-value"),c=b.data("niceselect-text"),j.options.onHover.call(j,d,c)})},b=function(){var b;b=j.$widget.find("a"),b.on("click",function(c){var d,e,f,g;c.preventDefault(),d=a(this),g=d.attr("data-niceselect-value"),f=d.attr("data-niceselect-text"),e=!0,j.options.multiple?d.hasClass(j.options.selectedclass)&&(d.removeClass(j.options.selectedclass),l(g),e=!1):b.removeClass(j.options.selectedclass),e&&(d.addClass(j.options.selectedclass),k(g),j.options.onSelect.call(j,g,f,c)),"search"===j.options.type&&(d.closest("ul").hide(),j.$search.val(f))})},i=function(){var b,c;c=j.$widget.find("input"),b=j.$widget.find("ul"),c.on("keypress",function(c){var d;13===c.keyCode&&(c.preventDefault(),d=b.find("li:visible a."+j.options.selectedclass).first(),d.trigger("click"),a(this).blur())}),c.on("keyup",function(a){var c,d;return 40===a.keyCode?(c=b.find("li:visible a."+j.options.selectedclass).first(),b.find("li a").removeClass(j.options.selectedclass),d=c.closest("li").nextAll("li:visible").length<=0?b.find("li:visible a").first():c.closest("li").nextAll("li:visible").first().find("a").first(),d.addClass(j.options.selectedclass),b.scrollTop(b.scrollTop()+d.closest("li").position().top-b.height()/2+d.closest("li").height()/2)):38===a.keyCode?(c=b.find("li:visible a."+j.options.selectedclass).first(),b.find("li a").removeClass(j.options.selectedclass),d=c.closest("li").prevAll("li:visible").length<=0?b.find("li:visible a").last().first():c.closest("li").prevAll("li:visible").first().find("a").first(),d.addClass(j.options.selectedclass),b.scrollTop(b.scrollTop()+d.closest("li").position().top-b.height()/2+d.closest("li").height()/2)):void h()})},e=function(){var e;return j.$widget=a("<div />",{"class":"ns-widget"}),e=a("<ul />",{"class":j.options.theme}),"search"===j.options.type&&(j.$search=a("<input />",{type:"text",name:"niceselect-search"}),j.$widget.append(j.$search),e.hide()),j.$elem.find("option").each(function(b){return function(b,c){var d,f,g,h,i,k;k=a(c).val(),k&&(h=a(c).text(),g=a(c).data("html"),g&&(h=g),i=j.options.showtext===!1?"":h,d=a("<a />",{href:"#","data-niceselect-value":k,"data-niceselect-text":h,html:i}),a(c).is(":selected")&&d.addClass(j.options.selectedclass),f=a("<li />").append(d),e.append(f))}}(this)),j.$widget.append(e),j.$elem.before(j.$widget),b(),d(),"search"===j.options.type?(c(),i()):void 0},this.show=function(){g()||(e(),this.$elem.hide())}},b.prototype.init=function(b,c){return this.$elem=a(c),this.options=a.extend({},a.fn.selectnice.defaults,b),this.options.multiple=!!a(c).attr("multiple"),a.each(this.$elem.data(),function(a){return function(b,c){a.options[b]=c}}(this)),this.options},b}(),a.fn.selectnice=function(c,d){return this.each(function(){var e;if(e=new b,a(this).is("select")||a.error("Sorry, this plugin only works with select fields."),e.hasOwnProperty(c)){if(e.init(d,this),"show"===c)return e.show(d);if(e.$elem.data("selectnice"))return e.$widget=a(this).next(".ns-widget"),e[c](d)}else{if("object"==typeof c||!c)return d=c,e.init(d,this),e.show();a.error("Method "+c+" does not exist on jQuery.selectnice")}})},a.fn.selectnice.defaults={theme:"select-default",selectedclass:"selected",showtext:!0,type:"select",multiple:!1,onSelect:function(a,b,c){},onHover:function(a,b){}},a.fn.selectnice.SelectNice=b});